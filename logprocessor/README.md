# logprocessor

The logprocessor is a Go program that monitors a directory for file modifications and triggers a callback function when changes occur. It provides the ability to react to file changes and process the added content.

## Motivation

The logprocessor is designed as a specific video game's logs processing program. It allows real-time monitoring of log files generated by the game and enables custom processing of the added log content. By utilizing the File Watcher functionality, it can efficiently track modifications and extract relevant information from the logs.

## Design

The program is implemented using the Go programming language and utilizes the `fsnotify` package for file system notifications. It follows a simple design that allows users to specify a directory to watch and define a callback function to handle file modifications.

The program tracks file modifications based on the change in file size, rather than comparing the entire file content. Upon detecting a modification, the program compares the current file size with the previous stored length. If the size has increased, indicating added content, it reads the file content and retrieves the additive content for further processing.

When a file is modified and additive content is detected, the program invokes the callback function, passing the `fsnotify.Event` and the added content as arguments. Users can implement custom logic within the callback function to extract and process relevant information from the game logs.

To handle scenarios where new files are added after the initial traversal, the program dynamically creates a file state when encountering new files during the `fsnotify` event handling. This ensures that modifications to newly added files are properly tracked.

## Usage

To use the logprocessor program, follow these steps:

1. Make sure you have Go installed on your machine.
2. Download or clone the project source code.
3. Open a terminal or command prompt and navigate to the project directory.
4. Build the program by running the following command:
   ```
   go build
   ```
5. Run the program, providing the directory path to monitor as a command-line argument. For example:
   ```
   ./logprocessor /path/to/logs
   ```
6. Define your own callback function within the `main` function to handle log modifications. The provided callback function receives the `fsnotify.Event` and the added log content as arguments. Implement the desired functionality within the callback function based on your specific requirements for processing the game logs.

## Future Improvements

Here are some potential improvements and extensions that can be made to enhance the functionality of the logprocessor program:

- Implement advanced log parsing techniques to extract specific information or perform statistical analysis on the game logs.
- Introduce filters or rules to selectively process certain types of logs or specific log events.
- Enhance the error handling and logging mechanisms to provide better feedback and error reporting during the log processing.
